@if (!loading) {
  <mat-card>
    <mat-card-content>
      <mat-tab-group (selectedTabChange)="onTabChanged($event)">
        @for (role of roles; track role) {
          <mat-tab>
            <ng-template mat-tab-label>
              <mat-icon [matTooltip]="role.label" class="m-r-10">{{ getIcon(role.id) }}</mat-icon>
              <span>{{ role.label }}</span>
            </ng-template>
          </mat-tab>
        }
      </mat-tab-group>
    </mat-card-content>
  </mat-card>
  <mat-card>
    <div class="d-flex flex-col text-center align-items-center m-t-30">
      @for (groups of allPermissions; track $index) {
        <h3>{{ groups.category }}</h3>
        @for (permission of groups.permissions; track permission) {
          <div
            class="d-flex align-items-center permission-item justify-content-between p-10 m-2 w-50"
            >
            <span class="f-s-15">{{ permission.label | titlecase }}</span>
            <mat-slide-toggle
              (change)="updatePermission(permission, $event)"
              [(ngModel)]="permission.active"
            ></mat-slide-toggle>
          </div>
        }
      }
    </div>
  </mat-card>
} @else {
  <app-loading></app-loading>
}
