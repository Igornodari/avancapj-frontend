<div class="row">
	<div class="col-6 d-flex m-b-20">
		<!-- <button class="m-x-10 m-t-5" [disabled]="loading" matButton="outlined" color="accent">
			Baixar excel<mat-icon>download</mat-icon>
		</button> -->
	</div>
	<div class="col-6 d-flex flex-row-reverse m-b-20">
		<button
			[matBadge]="filteredCount"
			matBadgeOverlap="true"
			class="m-x-10"
			mat-mini-fab
			color="accent"
			(click)="openDialogFilter()"
		>
			<mat-icon>filter_list</mat-icon>
		</button>
		<button class="m-x-10" mat-mini-fab color="primary" aria-label="Novo" matTooltip="Cadastrar">
			<mat-icon>add</mat-icon>
		</button>
	</div>
</div>

<mat-card class="cardWithShadow">
	<mat-card-content>
		<div class="main-container m-t-2">
			<app-loading *ngIf="loading"></app-loading>

			<div class="table-responsive">
				<table
					mat-table
					[dataSource]="dataSource"
					class="main-table"
					matSort
					matSortActive="createdAt"
					matSortDisableClear
					matSortDirection="desc"
				>
					<ng-container matColumnDef="code">
						<th mat-header-cell *matHeaderCellDef>Código</th>
						<td mat-cell *matCellDef="let row">
							{{ row.code }}
						</td>
					</ng-container>
					<ng-container matColumnDef="name">
						<th mat-header-cell *matHeaderCellDef>Nome</th>
						<td mat-cell *matCellDef="let row">
							{{ row.name }}
						</td>
					</ng-container>
					<ng-container matColumnDef="tool">
						<th mat-header-cell *matHeaderCellDef>Ferramenta</th>
						<td mat-cell *matCellDef="let row">
							{{ row.tool | translate }}
						</td>
					</ng-container>

					<ng-container matColumnDef="visibilityIcon">
						<th mat-header-cell *matHeaderCellDef>Ações</th>
						<td id="visibility-icon" mat-cell *matCellDef="let row">
							<button
								mat-icon-button
								color="primary"
								aria-label="visibility icon"
								(click)="opneDialogUpsert(row)"
							>
								<mat-icon>visibility</mat-icon>
							</button>
						</td>
					</ng-container>

					<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
					<tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
				</table>
				<div class="rate-limit-reached" *ngIf="!dataSource.data.length">
					Nenhum resultado encontrato
				</div>
			</div>

			<mat-paginator
				[length]="resultsLength"
				[pageSize]="10"
				[pageSizeOptions]="pageSizeOptions"
			></mat-paginator>
		</div>
	</mat-card-content>
</mat-card>
